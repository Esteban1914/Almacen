<!DOCTYPE html>
<html>
  <head>
      {% load static %}
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link href="{% static 'bootstrap/css/bootstrap.min.css'%}" rel="stylesheet">
      <link href="{% static 'css/styles.css'%}" rel="stylesheet">
      <title>Stickers</title>
  </head>
  <body class='{% if user.is_superuser %} ColorSuperUser {% elif user.is_admin %} ColorAdmin {% elif user.is_worker %} ColorWorker {% elif user.is_authenticated %} ColorUser {% else %} ColorNoAuthenticated  {% endif %}'>
    {% comment %} ============================NAVBAAR============================ {% endcomment %}
    <nav  class="navbar bg-dark navbar-dark navbar-expand-md sticky-top ">
      <div class="container-fluid">
        <a class="navbar-brand"><span class="h3 text-light"><input type="image" class="img-fluid" width="100" src="{% static '../media/stickers.png' %}" alt=""> </span></a>
        {% comment %} ============================Screen-sm============================ {% endcomment %}
        <div class="navbar-brand d-flex justify-content-start flex-grow-1 pe-3 d-block d-md-none">
            
            <a style="text-decoration: none;"  class="mx-2 {% if '/Home' in request.path %}link-light{% else %}link-secondary{% endif %}" href="{% url 'home'%}">
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-house-door" viewBox="0 0 16 16">
                <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z"/>
                
              </svg>
            </a>
            <a style="text-decoration: none;"  class="mx-2 {% if '/Tienda' in request.path %}link-light{% else %}link-secondary{% endif %}" href="{% url 'tienda'%}">
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-shop-window" viewBox="0 0 16 16">
                <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h12V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zm2 .5a.5.5 0 0 1 .5.5V13h8V9.5a.5.5 0 0 1 1 0V13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.5a.5.5 0 0 1 .5-.5z"/>
              </svg>
            </a>
            {% if user.is_admin %}
              <a style="text-decoration: none;"  class="mx-2 {% if '/Administracion' in request.path %}link-light{% else %}link-secondary{% endif %}" href="{% url 'administracion'%}">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto  bi bi-cart3" viewBox="0 0 16 16">
                  <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>
                </svg>
              </a>
            {% endif %}
            <a style="text-decoration: none;" role="button" class="ms-auto mx-3 link-light" data-bs-toggle="modal" data-bs-target="#modalSearch">
              <svg width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-search" viewBox="0 0 16 16">
                <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
              </svg>
            </a>
            
            
        </div>
        <button class="navbar-toggler" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        {% comment %} ============================Screen-md============================ {% endcomment %}
        <div class="offcanvas text-bg-dark offcanvas-start" tabindex="-1" id="offcanvasNavbar" aria-labelledby="offcanvasNavbarLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasNavbarLabel">Stickers</h5>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="offcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
              {% comment %} ============================Offcnvas-md============================ {% endcomment %}
              {% comment %} ============================Icons============================ {% endcomment %}         
              <div class="row w-100 justify-content-between align-tems-center text-center">
                <div class="col text-center order-2 order-md-1">
                  <ul class="navbar-nav justify-content-start flex-grow-1 pe-3">
                    <li class="nav-item text-center my-auto">
                      <a class="mx-3 nav-link {% if '/Home' in request.path %}active{% endif %}" aria-current="page" href="{% url 'home'%}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-house-door" viewBox="0 0 16 16">
                          <path d="M8.354 1.146a.5.5 0 0 0-.708 0l-6 6A.5.5 0 0 0 1.5 7.5v7a.5.5 0 0 0 .5.5h4.5a.5.5 0 0 0 .5-.5v-4h2v4a.5.5 0 0 0 .5.5H14a.5.5 0 0 0 .5-.5v-7a.5.5 0 0 0-.146-.354L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293L8.354 1.146ZM2.5 14V7.707l5.5-5.5 5.5 5.5V14H10v-4a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v4H2.5Z"/>
                        </svg>
                        Home
                      </a>
                    </li>
                    <li class="nav-item text-center my-auto">
                      <a class="mx-3 nav-link {% if '/Tienda' in request.path %}active{% endif %}" href="{% url 'tienda'%}">
                        <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-shop-window" viewBox="0 0 16 16">
                          <path d="M2.97 1.35A1 1 0 0 1 3.73 1h8.54a1 1 0 0 1 .76.35l2.609 3.044A1.5 1.5 0 0 1 16 5.37v.255a2.375 2.375 0 0 1-4.25 1.458A2.371 2.371 0 0 1 9.875 8 2.37 2.37 0 0 1 8 7.083 2.37 2.37 0 0 1 6.125 8a2.37 2.37 0 0 1-1.875-.917A2.375 2.375 0 0 1 0 5.625V5.37a1.5 1.5 0 0 1 .361-.976l2.61-3.045zm1.78 4.275a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0 1.375 1.375 0 1 0 2.75 0V5.37a.5.5 0 0 0-.12-.325L12.27 2H3.73L1.12 5.045A.5.5 0 0 0 1 5.37v.255a1.375 1.375 0 0 0 2.75 0 .5.5 0 0 1 1 0zM1.5 8.5A.5.5 0 0 1 2 9v6h12V9a.5.5 0 0 1 1 0v6h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1V9a.5.5 0 0 1 .5-.5zm2 .5a.5.5 0 0 1 .5.5V13h8V9.5a.5.5 0 0 1 1 0V13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9.5a.5.5 0 0 1 .5-.5z"/>
                        </svg>
                        Tienda
                      </a>
                    </li>
                    {% if user.is_authenticated %}
                      {% if user.is_admin %}
                        <li class="nav-item text-center my-auto">
                          <a class="mx-3 nav-link {% if '/Administracion' in request.path %}active{% endif %}" href="{% url 'administracion' %}">
                            {% comment %} <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto  bi bi-cart3" viewBox="0 0 16 16">
                              <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .49.598l-1 5a.5.5 0 0 1-.465.401l-9.397.472L4.415 11H13a.5.5 0 0 1 0 1H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l.84 4.479 9.144-.459L13.89 4H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"/>
                            </svg> {% endcomment %}
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto  bi bi-cart3" viewBox="0 0 16 16">
                              <path fill-rule="evenodd" d="M6 3.5A1.5 1.5 0 0 1 7.5 2h1A1.5 1.5 0 0 1 10 3.5v1A1.5 1.5 0 0 1 8.5 6v1H14a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0V8h-5v.5a.5.5 0 0 1-1 0v-1A.5.5 0 0 1 2 7h5.5V6A1.5 1.5 0 0 1 6 4.5v-1zM8.5 5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1zM0 11.5A1.5 1.5 0 0 1 1.5 10h1A1.5 1.5 0 0 1 4 11.5v1A1.5 1.5 0 0 1 2.5 14h-1A1.5 1.5 0 0 1 0 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5A1.5 1.5 0 0 1 7.5 10h1a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 8.5 14h-1A1.5 1.5 0 0 1 6 12.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1zm4.5.5a1.5 1.5 0 0 1 1.5-1.5h1a1.5 1.5 0 0 1 1.5 1.5v1a1.5 1.5 0 0 1-1.5 1.5h-1a1.5 1.5 0 0 1-1.5-1.5v-1zm1.5-.5a.5.5 0 0 0-.5.5v1a.5.5 0 0 0 .5.5h1a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 0-.5-.5h-1z"/>
                            </svg>
                            Administracion
                          </a>
                        </li>
                      {% endif %}
                      {% if user.is_admin or user.is_worker %}
                        <li class="nav-item text-center my-auto">
                          <a class="mx-3 nav-link {% if '/Operaciones' in request.path%}active{% endif %}" href="{% url 'operaciones'%}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-clipboard2-pulse" viewBox="0 0 16 16">
                              <path d="M9.5 0a.5.5 0 0 1 .5.5.5.5 0 0 0 .5.5.5.5 0 0 1 .5.5V2a.5.5 0 0 1-.5.5h-5A.5.5 0 0 1 5 2v-.5a.5.5 0 0 1 .5-.5.5.5 0 0 0 .5-.5.5.5 0 0 1 .5-.5h3Z"/>
                              <path d="M3 2.5a.5.5 0 0 1 .5-.5H4a.5.5 0 0 0 0-1h-.5A1.5 1.5 0 0 0 2 2.5v12A1.5 1.5 0 0 0 3.5 16h9a1.5 1.5 0 0 0 1.5-1.5v-12A1.5 1.5 0 0 0 12.5 1H12a.5.5 0 0 0 0 1h.5a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5v-12Z"/>
                              <path d="M9.979 5.356a.5.5 0 0 0-.968.04L7.92 10.49l-.94-3.135a.5.5 0 0 0-.926-.08L4.69 10H4.5a.5.5 0 0 0 0 1H5a.5.5 0 0 0 .447-.276l.936-1.873 1.138 3.793a.5.5 0 0 0 .968-.04L9.58 7.51l.94 3.135A.5.5 0 0 0 11 11h.5a.5.5 0 0 0 0-1h-.128L9.979 5.356Z"/>
                            
                            </svg>
                            Operaciones </a>
                        </li> 
                        {% if user.is_admin %}
                          <li class="mx-3 nav-item text-center my-auto">
                            <a class="nav-link {% if '/Caja' in request.path%}active{% endif %}" href="{% url 'caja'%}">
                              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-currency-dollar" viewBox="0 0 16 16">
                                <path d="M4 10.781c.148 1.667 1.513 2.85 3.591 3.003V15h1.043v-1.216c2.27-.179 3.678-1.438 3.678-3.3 0-1.59-.947-2.51-2.956-3.028l-.722-.187V3.467c1.122.11 1.879.714 2.07 1.616h1.47c-.166-1.6-1.54-2.748-3.54-2.875V1H7.591v1.233c-1.939.23-3.27 1.472-3.27 3.156 0 1.454.966 2.483 2.661 2.917l.61.162v4.031c-1.149-.17-1.94-.8-2.131-1.718H4zm3.391-3.836c-1.043-.263-1.6-.825-1.6-1.616 0-.944.704-1.641 1.8-1.828v3.495l-.2-.05zm1.591 1.872c1.287.323 1.852.859 1.852 1.769 0 1.097-.826 1.828-2.2 1.939V8.73l.348.086z"/>
                              </svg>
                              Caja
                            </a>
                          </li> 
                        {% endif %}
                      {% endif %}
                    {% endif %}    
                  </ul>
                </div>
                <div class="col-12 col-md order-3 order-md-2 justify-content-center d-none d-md-block">
                  <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                    <li class="nav-item text-center my-auto">
                      <div class="ms-auto px-3 my-auto mx-2  my-auto">
                        <button id="idSearch" type="button" class=" btn btn-secondary" data-bs-toggle="modal" data-bs-target="#modalSearch">
                          <svg width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-search" viewBox="0 0 16 16">
                            <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                          </svg>
                          <span class="m-1">Buscar</span>
                        </button>    
                      </div>
                    </li>
                  </ul>
                </div>
                <div class="w-100 col-12 col-md order-1 order-md-3 justify-content-center  ">
                  <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                    {% if user.is_authenticated %}
                      <li class="nav-item text-center my-auto">
                        <div class="row justify-content-center">
                          <div class="col-auto">
                            <div style="border-radius: 60px;" class="btn btn-success px-4 mb-4 mb-md-0" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                              <div class="row justify-content-center">
                                <div class="col-6">
                                  <svg width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-person-check-fill" viewBox="0 0 16 16">
                                    <path fill-rule="evenodd" d="M15.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L12.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                    <path d="M1 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
                                  </svg>
                                </div>
                                <div class="col-6">
                                  <img src="{{user.image.url}}" class="img-fluid rounded-circle" alt="" width="25" height="25" >
                                </div>
                              </div>
                              {{user.username}}
                            </div>
                          </div>
                        </div>
                      </li>
                    {% else %}
                      <li class="nav-item text-center my-auto">
                        <div style="border-radius: 60px;" class="px-3 bg-success mx-3 nav-link active" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasRight" aria-controls="offcanvasRight">
                          <svg  width="25" height="25" fill="currentColor" class="d-block mx-auto bi bi-person-circle" viewBox="0 0 16 16">
                            <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"/>
                            <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"/>
                          </svg>
                          Ingresar
                        </div>
                      </li>
                    {% endif %}
                  </ul>
                </div>
            </div>
          </div>
        </div>
      </div>
    </nav>
    {% comment %} ============================MODAL============================ {% endcomment %}
    <div class="modal fade" id="modalSearch" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h1 class="modal-title fs-5" id="staticBackdropLabel">Buscar Producto</h1>  
            <button type="button"  class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            {% if user.is_admin or user.is_worker %}
              <div class="d-none" id="IdErrorScanDiv">Error, QR invalido</div>
            {% endif %}
            <div class="input-group mb-3">
              <span class="input-group-text" id="basic-addon1">
                <svg width="16" height="16" fill="currentColor" class="mx-2 bi bi-search" viewBox="0 0 16 16">
                  <path d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                </svg>
              </span>       
              <input  class=" form-control me-2" type="text" id="SearchProductID" placeholder="Buscar Producto" oninput="SearchProduct('{% url 'base_post' %}')" aria-label="Search"> 
              
              {% if user.is_superuser %}
                <div class="input-group-append">
                  <a onclick="ScanQR()" style="text-decoration: none;" data-bs-toggle="modal" data-bs-target="#modalScan" class="text-dark" type="button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-qr-code-scan" viewBox="0 0 16 16">
                      <path d="M0 .5A.5.5 0 0 1 .5 0h3a.5.5 0 0 1 0 1H1v2.5a.5.5 0 0 1-1 0v-3Zm12 0a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-1 0V1h-2.5a.5.5 0 0 1-.5-.5ZM.5 12a.5.5 0 0 1 .5.5V15h2.5a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5Zm15 0a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1 0-1H15v-2.5a.5.5 0 0 1 .5-.5ZM4 4h1v1H4V4Z"/>
                      <path d="M7 2H2v5h5V2ZM3 3h3v3H3V3Zm2 8H4v1h1v-1Z"/>
                      <path d="M7 9H2v5h5V9Zm-4 1h3v3H3v-3Zm8-6h1v1h-1V4Z"/>
                      <path d="M9 2h5v5H9V2Zm1 1v3h3V3h-3ZM8 8v2h1v1H8v1h2v-2h1v2h1v-1h2v-1h-3V8H8Zm2 2H9V9h1v1Zm4 2h-1v1h-2v1h3v-2Zm-4 2v-1H8v1h2Z"/>
                      <path d="M12 9h2V8h-2v1Z"/>
                    </svg>
                  </a>
                </div>
              {% endif %}
            </div>                  
            <div class="my-3 text-center h5" id="searchProductList">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <div class="modal fade" id="modalScan" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">  
            <button type="button" id="buttonCloseScan" class="btn-close" data-bs-dismiss="modal" aria-label="Close" onclick="CloseScanModal()"></button>
          </div>
          <div class="modal-body">
            <div id="qr-reader" class="container"></div>
            
          </div>
        </div>
      </div>
    </div>
    {% comment %} ===========================OFFCANVAS============================ {% endcomment %}
    
    <div class="offcanvas offcanvas-end " tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
      <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasRightLabel">
            {% if user.is_authenticated %}
              {% comment %} {{user.username}} {% endcomment %}
              Panel de Usuario
            {% else %}
              Ingrsar 
            {% endif %}
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
      </div>
      <div class="offcanvas-body">
        <div class="container h-100">
          {% if user.is_authenticated %}
            <div class="row justify-content-center align-items-center  m-2 mb-4">
              <div class="col-6"> 
                <img class="img-fluid rounded-circle img-thumbnail" src="{% if user.image %} {{user.image.url}} {% endif %}" alt="Foto del Usuario" >
              </div>
              <div class="col-12 text-center mt-3" >
                <span class="p-2 py-1 h5"><strong> {{user.username}}</span></strong> 
              </div>
            </div>
            <div class="row mb-5">
              <div class="col-12">
                <span class="p-2 py-1 m-1" >Permisos: 
                  <strong> 
                    {% if user.is_superuser %}
                      Super Usuario
                    {% elif user.is_admin %}
                      Administrador
                    {% elif user.is_worker %}
                      Trabajdor
                    {% else %}
                      Usuario
                    {% endif %}
                  </strong>
                </span>
              </div>
            </div>
            {% if user.is_admin %}
              <div class="my-3 m-3 row w-auto justify-content-center text-center">
                <div class="col">
                  <a type="button w-50 " href="{% url 'usuarios' %}" class="btn btn-success"> <span class="h4">Panel de Usuarios</span></a>
                </div>
              </div>
            {% endif %}
            {% if user.is_worker %}
              <div class="my-3 m-3 row w-auto justify-content-center text-center">
                <div class="col">
                  <a type="button w-50 " href="{% url 'usuario' user.id %}" class="btn btn-success"> <span class="h4">Ver Perfil de Usuario</span></a>
                </div>
              </div>
            {% endif %}
            
            <div class="my-3 m-3 row w-auto justify-content-center text-center">
              <div class="col">
                <a type="button w-50 " href="{% url 'resumen' %}" class="btn btn-primary"> <span class="h4">Resumen de la Tienda</span></a>
              </div>
            </div>
            <div class="row justify-content-end align-items-end">
              <div class="col-auto">   
                <form action="{% url 'base_post' %}" method="POST">
                  {% csrf_token %}
                  <input type="submit" value="Cerrar Sesión" name="CerrarSesion" class="btn btn-danger m-3 p-2">
                </form>   
              </div>
            </div>
          {% else %}
            <form action="{% url 'base_post' %}" method="POST">
              {% csrf_token %}
              <div class="h4">Inicio de Sesión</div>
              <div class="form-floating mb-3">
                <input type="text" name="username" autofocus="" autocapitalize="none" autocomplete="username" maxlength="150" required="" class="form-control" id="floatingInput" placeholder="Ususario">
                <label for="floatingInput">Usuario</label>
              </div>
              <div class="form-floating">
                <input type="password" name="password" autocomplete="current-password" required="" class="form-control" id="floatingPassword" placeholder="Password">
                <label for="floatingPassword">Password</label>
              </div>
              <input type="reset"  class="float-start btn btn-warning m-3" value="Cancelar" data-bs-dismiss="offcanvas" aria-label="Close">
              <input type="submit" class="float-end btn btn-success m-3" name="Inicar_Sesion"value="Ingresar">
              
            </form>
          {% endif %}
        </div>
      </div>
    </div>  
    {% comment %} ======================MESSAGE========================== {% endcomment %}
    <div class="container-fluid">
      
      {% for message in messages %}
        <div class="continer-fluid">
          <div class="d-flex justify-content-center">
            <div class="p-3 px-5 m-3 alert alert-{% if message.tags == "error" %}danger{% else %}{{ message.tags }}{% endif %} alert-dismissible fade show m-2 p-2 text-center" role="alert">
                <div class="h4">
                    <strong>
                      {% if message.tags == "error" %}
                        Error!
                      {% elif message.tags == "success" %}
                        Completado!
                      {% endif %}
                      </strong>
                </div>
                <div class="h6">
                    {{ message }}
                </div> 
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          </div>
        </div>
      {% endfor %}
      <div class="row justify-content-between mt-2 mx-2 d-none">
        <div class="col-auto">
          <a href="">
            <svg style="text-decoration: none;" class="text-dark" xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-box-arrow-in-left" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"/>
              <path fill-rule="evenodd" d="M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"/>
            </svg>
          </a>
        </div>
        <div class="col-auto">
          <a href="">
            <svg xmlns="http://www.w3.org/2000/svg" style="text-decoration: none;" class="text-dark" width="26" height="26" fill="currentColor" class="bi bi-box-arrow-right" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M10 12.5a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v2a.5.5 0 0 0 1 0v-2A1.5 1.5 0 0 0 9.5 2h-8A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-2a.5.5 0 0 0-1 0v2z"/>
              <path fill-rule="evenodd" d="M15.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L14.293 7.5H5.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"/>
            </svg>
          </a>
        </div>
        
      </div>
      {% block contenido %}
      {% endblock  %}
      <div class="d-block mb-5"></div>
    </div>
    
    {% comment %} <input type="file" id="qr-input-file" accept="image/*" capture> {% endcomment %}

    <script src="{% static 'bootstrap/js/bootstrap.bundle.min.js' %}" ></script>
    {% comment %} <script type="text/javascript" src="{% static 'js/index.js' %}" ></script> {% endcomment %}
    <script src="{% static 'qrcodejs/html5-qrcode.min.js' %}" ></script>
    <script type="text/javascript" src="{% static 'js/base.js' %}" ></script>
    {% block script_js %}
    {% endblock  %}
  </body>

<!-- Footer -->
{% comment %} <footer class="text-center text-lg-start bg-light text-muted bodycolor">
  <section class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom">
    
  </section>
  <section class="">
    <div class="container text-center text-md-start mt-5">
      <!-- Grid row -->
      <div class="row mt-3">
        <!-- Grid column -->
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <!-- Content -->
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Stickers
          </h6>
          <p>
            Pagina oficial de Stickers para el control de almacenamiento de la tienda
          </p>
        </div>
        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <!-- Links -->
          <h6 class="text-uppercase fw-bold mb-4">Contacte con Stickers</h6>
          <p><i class="fas fa-home me-3"></i>Direccion</p>
          <p>
            <i class="fas fa-envelope me-3"></i>
            Stickers@tiendas.com
          </p>
          <p><i class="fas fa-phone me-3"></i>#Telf</p>
        </div>
        <!-- Grid column -->
      </div>
      <!-- Grid row -->
    </div>
  </section>
  <!-- Section: Links  -->

  <!-- Copyright -->
  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05);">
    © {{year}} AlmacensStickers:
  </div>
  <!-- Copyright -->
</footer> {% endcomment %}
<!-- Footer -->
</html>