{% extends 'Base.html' %}
{% load static %}
{% block contenido %}

  <div class="container">    
    {% if products %}       
      <div class="row cols-1 cols-md-2 cols-lg-3 cols-xl-4">
        <div class="card-group">  
          {% for product in products %}
            {% if product.stored != 0 %}
              <div class="col-11 col-md-5 col-lg-4 col-xl-3 mb-3">
                <div class="card h-100 text-center p-3 m-1 mb-3 ">
                  <div class="d-flex align-items-center flex-column">
                    {% if product.image %}
                        <img src="{{product.image.url}}" width="150" height="250" class="card-img-top" alt="...">
                    {% else %}
                        <img src="" max-width="200" max-height="400" class="card-img-top" alt="{{Product.name}} no tiene imagen asignada">
                    {% endif %}  
                  </div>
                  <div class="d-flex align-self-center flex-column">
                    {% if user.is_authenticated %}
                      <div class="card-footer bg-ligth">
                        <div class="d-grid gap-2">
                          <a type="button" href="{% url 'producto' product.id %}" class="btn btn-outline-secondary " >Ver {{product.name}}</a>
                        </div> 
                      </div>
                    {% else %}
                      <hr></hr>
                    {% endif %}
                    <div class="card-body">
                        <h3 class="card-title">{{product.name}}</h3>
                        <h5 class="card-text">{{product.price}}$</h5>
                        
                        {% if user.is_authenticated %}
                          <h6 class="card-text">Almacenado : {{product.stored}}</h6>
                        {% endif %} 
                        <p class="card-text"><small class="text-muted">{{product.description}}</small></p>
                    </div>
                         
                  </div>
                </div>
              </div> 
            {% endif %}
          {% endfor %}
        </div>
      </div>
    {% else %}
      <div class="text-bg-dark p-5 m-5  d-flex justify-content-center"><h2>No hay productos almacenados para mostrar<h2></div>
    {% endif %}
  </div>
{% endblock  %}